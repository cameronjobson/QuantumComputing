{"ast":null,"code":"// ObserverEffectCanvas.js\nimport React,{useRef,useEffect}from'react';import{wavelengthToColor}from'./WaveCanvas';import{jsx as _jsx}from\"react/jsx-runtime\";const ObserverEffectCanvas=_ref=>{let{points,intensity,measure,wavelength}=_ref;const canvasRef=useRef(null);const dotRadius=2;useEffect(()=>{const canvas=canvasRef.current;const ctx=canvas.getContext(\"2d\");const width=canvas.width;const height=canvas.height;ctx.clearRect(0,0,width,height);if(measure){// If measurement is true, collapse the wave function (no interference pattern)\ndrawPhotons(ctx,width,height,points,intensity);}},[points,intensity,measure]);function drawPhotons(ctx,width,height,points,intensity){const scale=height/Math.max(...intensity);const maxIntensity=Math.max(...intensity);ctx.fillStyle=wavelengthToColor(wavelength,1);points.forEach((point,index)=>{const x=index/points.length*width;const y=height-intensity[index]*scale;// Invert y-axis for canvas\nconst brightness=intensity[index]/maxIntensity;// Normalize brightness\nconst dotSize=dotRadius;ctx.beginPath();ctx.arc(x,y,dotSize,0,2*Math.PI);ctx.fill();});}return/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:1000,height:200,style:{backgroundColor:\"#fff\"}});};export default ObserverEffectCanvas;","map":{"version":3,"names":["React","useRef","useEffect","wavelengthToColor","jsx","_jsx","ObserverEffectCanvas","_ref","points","intensity","measure","wavelength","canvasRef","dotRadius","canvas","current","ctx","getContext","width","height","clearRect","drawPhotons","scale","Math","max","maxIntensity","fillStyle","forEach","point","index","x","length","y","brightness","dotSize","beginPath","arc","PI","fill","ref","style","backgroundColor"],"sources":["/Users/amer_/Documents/GitHub/QuantumComputingPersonal/src/ObserverEffectCanvas.js"],"sourcesContent":["// ObserverEffectCanvas.js\n\nimport React, { useRef, useEffect } from 'react';\nimport { wavelengthToColor } from './WaveCanvas';\nconst ObserverEffectCanvas = ({\n  points,\n  intensity,\n  measure,\n  wavelength,\n}) => {\n  const canvasRef = useRef(null);\n  const dotRadius = 2;\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const width = canvas.width;\n    const height = canvas.height;\n    ctx.clearRect(0, 0, width, height);\n\n    if (measure) {\n      // If measurement is true, collapse the wave function (no interference pattern)\n      drawPhotons(ctx, width, height, points, intensity);\n    }\n  }, [points, intensity, measure]);\n\n  function drawPhotons(ctx, width, height, points, intensity) {\n    \n    const scale = height / Math.max(...intensity);\n    const maxIntensity = Math.max(...intensity);\n    ctx.fillStyle = wavelengthToColor(wavelength, 1);\n    points.forEach((point, index) => {\n      const x = (index / points.length) * width;\n      const y = height - intensity[index] * scale; // Invert y-axis for canvas\n      const brightness = intensity[index] / maxIntensity; // Normalize brightness\n      const dotSize = dotRadius;\n      ctx.beginPath();\n      ctx.arc(x, y, dotSize, 0, 2 * Math.PI);\n      ctx.fill();\n    });\n  }\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={1000}\n      height={200}\n      style={{ backgroundColor: \"#fff\" }}\n    />\n  );\n};\n\nexport default ObserverEffectCanvas;\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAChD,OAASC,iBAAiB,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBACjD,KAAM,CAAAC,oBAAoB,CAAGC,IAAA,EAKvB,IALwB,CAC5BC,MAAM,CACNC,SAAS,CACTC,OAAO,CACPC,UACF,CAAC,CAAAJ,IAAA,CACC,KAAM,CAAAK,SAAS,CAAGX,MAAM,CAAC,IAAI,CAAC,CAC9B,KAAM,CAAAY,SAAS,CAAG,CAAC,CAEnBX,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,MAAM,CAAGF,SAAS,CAACG,OAAO,CAChC,KAAM,CAAAC,GAAG,CAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC,CACnC,KAAM,CAAAC,KAAK,CAAGJ,MAAM,CAACI,KAAK,CAC1B,KAAM,CAAAC,MAAM,CAAGL,MAAM,CAACK,MAAM,CAC5BH,GAAG,CAACI,SAAS,CAAC,CAAC,CAAE,CAAC,CAAEF,KAAK,CAAEC,MAAM,CAAC,CAElC,GAAIT,OAAO,CAAE,CACX;AACAW,WAAW,CAACL,GAAG,CAAEE,KAAK,CAAEC,MAAM,CAAEX,MAAM,CAAEC,SAAS,CAAC,CACpD,CACF,CAAC,CAAE,CAACD,MAAM,CAAEC,SAAS,CAAEC,OAAO,CAAC,CAAC,CAEhC,QAAS,CAAAW,WAAWA,CAACL,GAAG,CAAEE,KAAK,CAAEC,MAAM,CAAEX,MAAM,CAAEC,SAAS,CAAE,CAE1D,KAAM,CAAAa,KAAK,CAAGH,MAAM,CAAGI,IAAI,CAACC,GAAG,CAAC,GAAGf,SAAS,CAAC,CAC7C,KAAM,CAAAgB,YAAY,CAAGF,IAAI,CAACC,GAAG,CAAC,GAAGf,SAAS,CAAC,CAC3CO,GAAG,CAACU,SAAS,CAAGvB,iBAAiB,CAACQ,UAAU,CAAE,CAAC,CAAC,CAChDH,MAAM,CAACmB,OAAO,CAAC,CAACC,KAAK,CAAEC,KAAK,GAAK,CAC/B,KAAM,CAAAC,CAAC,CAAID,KAAK,CAAGrB,MAAM,CAACuB,MAAM,CAAIb,KAAK,CACzC,KAAM,CAAAc,CAAC,CAAGb,MAAM,CAAGV,SAAS,CAACoB,KAAK,CAAC,CAAGP,KAAK,CAAE;AAC7C,KAAM,CAAAW,UAAU,CAAGxB,SAAS,CAACoB,KAAK,CAAC,CAAGJ,YAAY,CAAE;AACpD,KAAM,CAAAS,OAAO,CAAGrB,SAAS,CACzBG,GAAG,CAACmB,SAAS,CAAC,CAAC,CACfnB,GAAG,CAACoB,GAAG,CAACN,CAAC,CAAEE,CAAC,CAAEE,OAAO,CAAE,CAAC,CAAE,CAAC,CAAGX,IAAI,CAACc,EAAE,CAAC,CACtCrB,GAAG,CAACsB,IAAI,CAAC,CAAC,CACZ,CAAC,CAAC,CACJ,CAEA,mBACEjC,IAAA,WACEkC,GAAG,CAAE3B,SAAU,CACfM,KAAK,CAAE,IAAK,CACZC,MAAM,CAAE,GAAI,CACZqB,KAAK,CAAE,CAAEC,eAAe,CAAE,MAAO,CAAE,CACpC,CAAC,CAEN,CAAC,CAED,cAAe,CAAAnC,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}